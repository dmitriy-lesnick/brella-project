const header = document.querySelector(".header"), headerBurger = document.querySelector(".header__burger"), headerNav = document.querySelector(".header__nav"), headerBurgerLines = document.querySelectorAll(".header__burger-line"); window.addEventListener("scroll", () => { 50 < scrollY && header.classList.add("header--active"), scrollY < 50 && header.classList.remove("header--active"), scrollChangeOutValue() }), headerBurger.addEventListener("click", () => { "header__nav" == headerNav.className ? (headerBurgerLines.forEach(e => e.classList.add("header__burger-line--active")), headerNav.classList.add("header__nav--transition")) : (headerBurgerLines.forEach(e => e.classList.remove("header__burger-line--active")), setTimeout(() => { headerNav.classList.remove("header__nav--transition") }, 450)), headerNav.classList.toggle("header__nav--active") }); const heroDropMenuButton = document.querySelector(".hero__drop-menu-btn"), heroDropMenuLinks = document.querySelectorAll(".hero__drop-menu-item"); heroDropMenuButton.addEventListener("click", () => { heroDropMenuLinks.forEach(e => { var t; heroDropMenuButton.classList.toggle("hero__drop-menu-btn--active"), "hero__drop-menu-item" == e.className ? (e.classList.add("hero__drop-menu-item--active"), t = e.parentNode.firstChild.scrollHeight, e.style.maxHeight = t + "px") : (e.style.maxHeight = 0, e.classList.remove("hero__drop-menu-item--active")) }) }); const backedSlider = document.querySelector(".backed__slider"), backedSliderLine = document.querySelector(".backed__slider-line"), backedSlides = document.querySelectorAll(".backed__slide"), backedSlide = document.querySelector(".backed__slide"), backedButtonPrev = document.querySelector(".backed__arrow-prev"), backedButtonNext = document.querySelector(".backed__arrow-next"); let backedSliderCounter = 0; const blogSlider = document.querySelector(".blog__slider"), blogSliderLine = document.querySelector(".blog__slider-line"), blogSlides = document.querySelectorAll(".blog__slide"), blogSlide = document.querySelector(".blog__slide"), blogButtonPrev = document.querySelector(".blog__arrow-prev"), blogButtonNext = document.querySelector(".blog__arrow-next"); let blogSliderCounter = 0; function backedAdaptationSlider() { 1024 <= window.screen.availWidth && adaptationSliderSize(backedSlider, backedSlides, backedSliderLine, 5), window.screen.availWidth < 1024 && adaptationSliderSize(backedSlider, backedSlides, backedSliderLine, 3), window.screen.availWidth < 425 && adaptationSliderSize(backedSlider, backedSlides, backedSliderLine, 1) } function blogAdaptationSlider() { window.screen.availWidth < 1e3 ? adaptationSliderSize(blogSlider, blogSlides, blogSliderLine, 1) : adaptationSliderSize(blogSlider, blogSlides, blogSliderLine, 3) } function init() { backedAdaptationSlider(), blogAdaptationSlider(), rollSlider(backedSliderCounter, backedSliderLine, backedSlide), rollSlider(blogSliderCounter, blogSliderLine, blogSlide), changeActiveClass() } function adaptationSliderSize(e, t, l, i) { let r = e.offsetWidth / i; l.style.width = r * t.length + "px", t.forEach(e => { e.style.width = r + "px", e.style.height = "auto" }) } function rollSlider(e, t, l) { t.style.transform = "translate(-" + e * l.offsetWidth + "px)" } setInterval(() => { backedSliderCounter += 1, backedSliderCounter == backedSlides.length - 5 && (backedSliderCounter = 0), rollSlider(backedSliderCounter, backedSliderLine, backedSlide) }, 5e3), window.addEventListener("resize", init), backedAdaptationSlider(), blogAdaptationSlider(), backedButtonNext.addEventListener("click", () => { backedSliderCounter < backedSlides.length - 5 ? backedSliderCounter += 1 : backedSliderCounter = 0, rollSlider(backedSliderCounter, backedSliderLine, backedSlide) }), backedButtonPrev.addEventListener("click", () => { 0 < backedSliderCounter ? --backedSliderCounter : backedSliderCounter = backedSlides.length - 5, rollSlider(backedSliderCounter, backedSliderLine, backedSlide) }), blogButtonNext.addEventListener("click", () => { 1e3 <= screen.availWidth ? blogSliderCounter < blogSlides.length - 3 ? blogSliderCounter += 1 : blogSliderCounter = 0 : blogSliderCounter < blogSlides.length - 1 ? blogSliderCounter += 1 : blogSliderCounter = 0, rollSlider(blogSliderCounter, blogSliderLine, blogSlide) }), blogButtonPrev.addEventListener("click", () => { 1e3 <= screen.availWidth ? 0 < blogSliderCounter ? --blogSliderCounter : blogSliderCounter = blogSlides.length - 3 : 0 < blogSliderCounter ? --blogSliderCounter : blogSliderCounter = blogSlides.length - 1, rollSlider(blogSliderCounter, blogSliderLine, blogSlide) }); const bringsItemTitles = document.querySelectorAll(".brings__item-title"), bringsItemTxts = document.querySelectorAll(".brings__item-txt"), bringsItemTxtsMobile = document.querySelectorAll(".brings__item-txt-mobile"); function titleСlassСhange(e) { window.screen.availWidth < 1024 ? "brings__item-title" == e.className ? e.classList.add("brings__item-title--active") : e.classList.remove("brings__item-title--active") : (bringsItemTitles.forEach(e => { e.classList.remove("brings__item-title--active") }), e.classList.add("brings__item-title--active")) } function txtСlassСhange(e) { bringsItemTxts.forEach(e => e.classList.remove("brings__item-txt--active")), bringsItemTxts[e.dataset.number].classList.add("brings__item-txt--active") } function activateBringsMobile(e) { let t = e.parentNode.lastElementChild; "brings__item-txt-mobile" == t.className ? (t.classList.add("brings__item-txt-mobile--active"), t.style.maxHeight = t.scrollHeight + "px") : (t.classList.remove("brings__item-txt-mobile--active"), t.style.maxHeight = 0) } function changeActiveClass() { 1024 <= window.screen.availWidth ? (bringsItemTitles.forEach(e => e.classList.remove("brings__item-title--active")), bringsItemTxts.forEach(e => e.classList.remove("brings__item-txt--active")), bringsItemTitles[0].classList.add("brings__item-title--active"), bringsItemTxts[0].classList.add("brings__item-txt--active")) : (bringsItemTitles.forEach(e => e.classList.remove("brings__item-title--active")), bringsItemTxtsMobile.forEach(e => { e.classList.remove("brings__item-txt-mobile--active"), e.style.maxHeight = 0 })) } bringsItemTitles.forEach(e => { e.addEventListener("click", () => { titleСlassСhange(e), (1024 <= window.screen.availWidth ? txtСlassСhange : activateBringsMobile)(e) }) }), 1024 <= window.screen.availWidth && bringsItemTitles[0].classList.add("brings__item-title--active"); const whyBarSum = document.querySelectorAll(".why__bar-sum"), whyBar = document.querySelectorAll(".why__bar"), valueWhy = document.querySelector(".why__chart-stat"), wrpValuePlan = document.querySelector(".plan__stat-item"), valuePlan = document.querySelector(".plan__stat-value"); function outValue(e, t, l) { let i = document.querySelector("#" + t), r = 0; t = Math.round(1e3 / e); let a = setInterval(() => { r++, r == e && clearInterval(a), i.innerHTML = r + l }, t) } let valueWhyPosition = valueWhy.getBoundingClientRect().top, valueWhyHeight = valueWhy.offsetHeight, valueWhyAnimPoint = window.innerHeight - valueWhyHeight, wrpValuePlanPosition = wrpValuePlan.getBoundingClientRect().top, wrpValuePlanHeight = wrpValuePlan.offsetHeight, wrpValuePlanAnimPoint = window.innerHeight - wrpValuePlanHeight; function scrollChangeOutValue() { 0 == valueWhy.innerHTML[0] || 0 == valuePlan.innerHTML[0] ? (0 == valueWhy.innerHTML[0] && scrollY > valueWhyPosition - valueWhyAnimPoint && (outValue(60, "out-0", "%"), whyBarSum.forEach(e => e.classList.add("why__bar-sum--active")), whyBar.forEach(e => e.classList.add("why__bar--active"))), 0 == valuePlan.innerHTML[0] && scrollY > wrpValuePlanPosition - wrpValuePlanAnimPoint && (console.log(scrollY), outValue(5, "out-1", "K"), outValue(1, "out-2", "X"), outValue(40, "out-3", "%"))) : console.log("ll") } scrollChangeOutValue();